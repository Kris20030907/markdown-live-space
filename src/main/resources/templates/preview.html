<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>MPA - Markdown Preview</title>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/github-markdown.css">
</head>
<body class="theme-github">
    <nav class="navbar">
        <a href="/" class="navbar-brand">
            <img src="/img/logo.svg" alt="MPA Logo" width="24" height="24">
            MPA
        </a>
        <div class="navbar-actions">
            <div class="theme-selector">
                <select id="theme-select">
                    <option value="github">GitHub主题</option>
                    <option value="dark">暗黑主题</option>
                </select>
            </div>
        </div>
    </nav>
    
    <div class="preview-container" style="max-width: 800px; margin: 20px auto;">
        <div class="preview-content markdown-body" th:utext="${html}"></div>
        <a href="/" class="back-button" style="display: inline-block; margin-top: 20px; padding: 8px 16px; background-color: #4CAF50; color: white; text-decoration: none; border-radius: 4px;">返回编辑</a>
    </div>
    
    <script>
        // 主题切换
        const themeSelect = document.getElementById('theme-select');
        
        themeSelect.addEventListener('change', function() {
            const theme = this.value;
            document.body.className = `theme-${theme}`;
            localStorage.setItem('theme', theme);
        });
        
        // 加载保存的主题设置
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme') || 'github';
            themeSelect.value = savedTheme;
            document.body.className = `theme-${savedTheme}`;
        });
    </script>
</body>
</html>